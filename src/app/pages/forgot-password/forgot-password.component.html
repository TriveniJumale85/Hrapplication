<div class="container d-flex justify-content-center align-items-center vh-100">
  <div class="card shadow-lg border-0 overflow-hidden" style="max-width: 880px; width: 100%;">
    <div class="row g-0">





      <!-- Left Section (Form) -->
      <div class="col-md-6 p-5 d-flex flex-column justify-content-center">
        <!-- Title -->
      <!-- Logo -->
      <div class="mb-4">
        <img
          src="./assets/OpenFuture.jpeg"
          alt="logo"
          width="150"
          class="me-1"
        />
      </div>

<!-- Title -->
      <h3 class="fw-bold mb-1">Welcome back</h3>
      <p class="text-muted mb-4">Please enter your details</p>

        <h3 class="text-muted mb-4"
            [ngClass]="{ 'text-secondary': step === 1, 'text-success': step === 2 }">
          {{ step === 1 ? 'Forgot Password' : 'Reset Password' }}
        </h3>

        <!-- Alert -->
        <div *ngIf="alertMessage"
          class="alert alert-dismissible fade show"
          [ngClass]="{
            'alert-success': alertType === 'success',
            'alert-danger': alertType === 'error'
          }" role="alert">
          {{ alertMessage }}
          <button type="button" class="btn-close" (click)="alertMessage=''" aria-label="Close"></button>
        </div>

        <!-- Step 1: Email -->
        <form *ngIf="step === 1" (ngSubmit)="sendOtp()" #emailForm="ngForm" novalidate>
          <div class="form-floating mb-3">
            <input type="email" class="form-control" id="emailInput"
              placeholder="name@example.com" [(ngModel)]="email" name="email"
              required email #emailInput="ngModel" />
            <label for="emailInput">Enter your email</label>
            <div class="text-danger small mt-1"
              *ngIf="emailInput.invalid && emailInput.touched">
              Please enter a valid email.
            </div>
          </div>
          <button type="submit" class="btn btn-primary w-100 py-2 fw-semibold"
            [disabled]="emailForm.invalid">
            Send OTP
          </button>
        </form>

        <!-- Step 2: OTP + Reset Password -->
        <form *ngIf="step === 2" (ngSubmit)="resetPassword()" #resetForm="ngForm" novalidate>
          <div class="form-floating mb-3">
            <input type="text" class="form-control" id="otpInput"
              placeholder="Enter OTP" [(ngModel)]="otp" name="otp"
              required minlength="4" maxlength="6" #otpInput="ngModel" />
            <label for="otpInput">Enter OTP</label>
            <div class="text-danger small mt-1"
              *ngIf="otpInput.invalid && otpInput.touched">
              OTP must be 4â€“6 digits.
            </div>
          </div>

          <div class="form-floating mb-3">
            <input type="password" class="form-control" id="newPassword"
              placeholder="New Password" [(ngModel)]="password" name="password"
              required minlength="6" #passwordInput="ngModel"
              (input)="checkPasswordStrength(password)" />
            <label for="newPassword">New Password</label>
            <div class="text-danger small mt-1"
              *ngIf="passwordInput.invalid && passwordInput.touched">
              Minimum 6 characters required.
            </div>
          </div>

          <!-- Password Strength -->
          <div class="mb-3">
            <small>Password Strength:</small>
            <div class="progress" style="height: 1px; border-radius: 8px;">
              <div class="progress-bar" role="progressbar"
                [style.width]="passwordStrength + '%'"
                [class.bg-danger]="passwordStrength <= 40"
                [class.bg-warning]="passwordStrength > 40 && passwordStrength <= 70"
                [class.bg-success]="passwordStrength > 70"></div>
            </div>
          </div>

          <div class="form-floating mb-3">
            <input type="password" class="form-control" id="confirmPassword"
              placeholder="Confirm Password" [(ngModel)]="confirmPassword" name="confirmPassword"
              required #confirmPasswordInput="ngModel" />
            <label for="confirmPassword">Confirm Password</label>
            <div class="text-danger small mt-1"
              *ngIf="confirmPassword !== password && confirmPasswordInput.touched">
              Passwords do not match.
            </div>
          </div>

          <button type="submit" class="btn btn-success w-100 py-2 fw-semibold"
            [disabled]="resetForm.invalid || password !== confirmPassword || passwordStrength < 30">
            Reset Password
          </button>
        </form>
      </div>

      <!-- Right Section (Image / Branding) -->
      <!-- <div class="col-md-6 d-none d-md-block"> -->

        <div class="col-md-6 p-0 d-none d-md-block">
      <div
        class="h-100 w-100"
        style="
          background-image: url('https://images.unsplash.com/photo-1531535807748-218331acbcb4?q=80&w=1374&auto=format&fit=crop');
          background-size: cover;
          background-position: center;
          position: relative;
        "
      >
       <div
          class="position-absolute bottom-0 p-4 text-white"
          style="background: rgba(0, 0, 0, 0.4); width: 100%"
        >
          <h5 class="fw-bold">Bring your ideas to life.</h5>
          <p class="mb-0">
            Sign up for free and enjoy access to all features for 30 days. No
            credit card required.
          </p>
        </div>

      </div>
    </div>
  </div>
</div>
